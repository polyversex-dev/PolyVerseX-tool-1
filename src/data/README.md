# Data Directory

This directory contains all market data JSON files for the PolyVerseX project.

## Files

### Raw Market Data (from Polymarket API)

- **`current_markets.json`**: Active/open markets currently trading

  - Fetched using `--current` flag
  - Filter: `active=true AND closed=false`
  - Updated periodically (e.g., hourly)
  - Size: ~400+ MB (14,000+ markets)

- **`current_market_names.json`**: List of market questions/titles

  - Extracted from current_markets.json
  - Useful for quick lookups and testing

- **`markets.json`**: All markets (optional, not filtered)

  - Fetched without filters
  - Contains historical and closed markets
  - Larger file size

- **`market_names.json`**: All market names (optional)
  - Extracted from markets.json

### Normalized Data

- **`normalized_markets.json`**: Processed and enriched market data
  - Generated by `src/normalization/normalize_markets.py`
  - Contains cleaned text, extracted entities, inferred categories
  - Ready for embedding generation and semantic search
  - Size: ~25 MB

## Data Pipeline

```
1. Fetch Markets (src/clob/fetch_markets.py)
   └─> current_markets.json + current_market_names.json

2. Normalize (src/normalization/normalize_markets.py)
   └─> normalized_markets.json

3. (Future) Build Index
   └─> markets_embeddings.npy + markets_index.faiss + markets_metadata.json
```

## Fetching Fresh Data

```bash
# From project root
cd src/clob
python fetch_markets.py --current
```

This will update:

- `src/data/current_markets.json`
- `src/data/current_market_names.json`

## Normalizing Data

```bash
# From project root
python src/normalization/normalize_markets.py
```

This will update:

- `src/data/normalized_markets.json`

## Storage Recommendations

- **Git**: Add `*.json` to `.gitignore` (files are large)
- **Backup**: Keep timestamped copies of normalized data
- **Updates**: Refresh current_markets.json hourly or daily
- **Cache**: Consider compressing older market snapshots

## File Sizes (Approximate)

| File                      | Size   | Records |
| ------------------------- | ------ | ------- |
| current_markets.json      | 400 MB | ~14,200 |
| current_market_names.json | 2 MB   | ~14,200 |
| normalized_markets.json   | 25 MB  | ~14,200 |

## Data Freshness

Markets data should be refreshed regularly:

- **Hourly**: For real-time trading applications
- **Daily**: For analytics and research
- **Weekly**: For historical analysis

Set up a cron job or scheduled task to automatically fetch and normalize data.
